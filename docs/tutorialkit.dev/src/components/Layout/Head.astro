---
import type { Props } from '@astrojs/starlight/props';
import Default from '@astrojs/starlight/components/Head.astro';
---

<Default {...Astro.props}><slot /></Default>

{/* Google Tag Manager */}
<script is:inline async src="https://www.googletagmanager.com/gtag/js?id=G-64MFE82HG5"></script>

<script is:inline>
  /**
   * We have all those @ts-ignore because the latest version of @astro/language-server
   * type check all scripts even if they are interpreted as JavaScript by the language
   * server.
   *
   * Given this script is kinda considered as external, we should do minimal changes
   * to it. Adding a single `@ts-nocheck` didn't work :'(.
   */

  // @ts-ignore -- see above
  window.dataLayer = window.dataLayer || [];

  // @ts-ignore -- see above
  function gtag(...args) {
    // @ts-ignore -- see above
    window.dataLayer.push(...args);
  }

  gtag('js', new Date());

  gtag('config', 'G-64MFE82HG5');
</script>
