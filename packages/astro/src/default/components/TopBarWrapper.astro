---
import { TopBar } from 'tutorialkit:override-components';
import { ThemeSwitch } from './ThemeSwitch';
import { LoginButton } from './LoginButton';
import OpenInStackblitzLink from './OpenInStackblitzLink.astro';
import Logo from './Logo.astro';
import { useAuth } from './setup';

interface Props {
  logoLink: string;
  openInStackBlitzLink: boolean | undefined;
}

const { logoLink, openInStackBlitzLink: showOpenInStackBlitzLink } = Astro.props;
---

<TopBar>
  <Logo slot="logo" logoLink={logoLink ?? '/'} />

  {showOpenInStackBlitzLink && <OpenInStackblitzLink slot="open-in-stackblitz-link" />}

  <ThemeSwitch client:load transition:persist slot="theme-switch" />

  {useAuth && <LoginButton client:load transition:persist slot="login-button" />}
</TopBar>
